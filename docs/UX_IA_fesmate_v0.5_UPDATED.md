# UX/IA 문서 — 정보구조(IA) & 화면 구성 v0.5

작성일: 2025-12-17  
상태: 대화 기반 기획 초안 (MVP 중심)

---

## 용어 정의 (Glossary)

- **행사(Event)**: 공연/전시/페스티벌 등 “일정(시작/종료)”과 “장소”를 갖는 최상위 엔터티.
- **행사 페이지(`/event/{id}`)**: 행사 상세 + 허브 + 타임테이블 + 아티스트를 한 라우트 안에서 탭으로 제공하는 화면.
- **허브(Hub)**: 행사 안에서 공지/실시간 제보/커뮤니티/리뷰·영상을 통합해 보는 피드 및 요약 영역.
- **LIVE 모드**: 행사 진행 전/중에 맞춰 “실시간(게이트/MD/시설/안전) + 타임테이블”을 최우선으로 보여주는 허브 상태.
- **RECAP 모드**: 행사 종료 후 회고 목적의 허브 상태. “총평/베스트 후기·영상/슬롯 요약”을 최우선으로 보여준다.
- **⭐찜(Wishlist)**: 관심/예매 예정/갈 수도 있는 행사 저장 상태.
- **✅다녀옴(Attended)**: 관람 완료 상태. 리뷰/영상/기록 기능의 기준이 되는 상태.
- **슬롯(Slot)**: 타임테이블의 “특정 시간·스테이지(또는 전시 세션)·아티스트(또는 프로그램)” 단위.
- **Now/Next**: 타임테이블에서 현재 진행/다음 순서를 요약해 보여주는 영역.
- **글 타입(Post Type)**: 허브/커뮤니티에서 글을 구조화하기 위한 분류(예: 게이트, MD, 시설, 안전, 동행, 양도, 후기, 영상, 질문·팁).
- **템플릿(Template)**: 글 타입별 입력 폼(필수/선택 필드)을 미리 정의한 작성 방식.
- **UGC**: 사용자 생성 콘텐츠(제보/후기/영상/커뮤니티 글).
- **Official 공지**: 운영자 또는 공식 채널 기반으로 등록되는 공지(링크/텍스트 중심).
- **도움됨(Helpful) 반응**: 글 품질을 신호로 삼는 피드백(정렬/요약/신뢰도에 활용).
- **신뢰도(A/B/C)**: 실시간 제보의 품질을 단순 등급화한 표시(최근성/증빙/작성자 신호 등 기반, MVP는 단순 규칙).
- **MyFes**: 사용자의 ⭐찜/✅다녀옴을 섞어 “예정+지난”을 한 타임라인으로 관리하는 개인 아카이브 탭.

---

## 1) IA 원칙
- **행사(Event)**를 최상위 엔터티로: 정보/실시간/커뮤니티/기록을 행사 안에서 해결
- LIVE(진행 전/중)와 RECAP(종료 후)로 **같은 화면의 목적을 전환**
- “찜(관심)”과 “다녀옴(관람)”을 분리해 **MyFes 타임라인**을 개인 아카이브로 만든다

---

## 2) 글로벌 내비게이션
### 하단 탭
- **홈**
- **탐색(행사)**
- **커뮤니티**
- **MyFes**

### 상단 공통
- 🔍 **통합 검색**: 행사/아티스트/허브 글/커뮤니티 글
- 🔔 **알림함**
- 👤 **프로필/로그인**: 미로그인 상태는 조회 중심, 작성/⭐찜/✅다녀옴 등 행동 시 소셜 로그인(카카오/네이버/구글) 유도

---

## 3) 사이트맵(텍스트)
- 홈
  - 내 일정 요약(오늘/진행중/곧 시작)
  - 추천 행사
  - 커뮤니티 하이라이트
- 탐색(행사)
  - 카드뷰
  - 리스트뷰
  - 캘린더뷰
  - 지난 행사(최근 1~2년)
  - 행사 페이지(`/event/{id}`)
    - 개요
    - 허브(LIVE/RECAP)
    - 타임테이블
    - 아티스트
    - (선택, P2) 후기·영상
- 커뮤니티
  - 동행(일반)
  - 택시팟
  - 밥
  - 숙소
  - 직거래양도
  - 후기·팁
  - 질문
- MyFes
  - **혼합 타임라인(예정+지난)** — 오늘 앵커
  - (옵션) 내 기여/배지/설정

---

## Top 3 User Flows (MVP)

### Flow 1) 탐색 → 행사 선택 → LIVE 허브 → 제보/동행 글 작성
```mermaid
flowchart TD
  A[탐색(카드/리스트/캘린더)] --> B[행사 페이지 /event/{id}]
  B --> C[허브 탭 (LIVE 기본)]
  C --> D{+ 올리기}
  D --> E[실시간 제보(게이트/MD/시설/안전)]
  D --> F[커뮤니티 글(동행/택시/밥/숙소/양도)]
  E --> G[피드 반영 + 요약 4박스 업데이트]
  F --> H[커뮤니티 리스트/필터 반영]
```

### Flow 2) 행사 종료 → RECAP 허브 → 총평/슬롯 리뷰 → 영상 링크 공유
```mermaid
flowchart TD
  A[MyFes 또는 지난 행사 탐색] --> B[행사 페이지 /event/{id}]
  B --> C[허브 탭 (RECAP 기본)]
  C --> D[총평 리뷰 작성]
  C --> E[슬롯(아티스트 무대) 선택]
  E --> F[슬롯 리뷰 작성]
  C --> G[영상 링크 추가(선택: 슬롯 연결)]
  D --> H[RECAP 요약(평점/베스트) 갱신]
  F --> H
  G --> H
```

### Flow 3) ⭐찜/✅다녀옴 관리 → MyFes 타임라인 → 당일 운영/회고
```mermaid
flowchart TD
  A[행사 페이지/탐색 카드] --> B[⭐찜 토글]
  B --> C[MyFes 타임라인(오늘 앵커)]
  C --> D{행사 상태}
  D -->|예정/진행중| E[허브(LIVE)로 이동]
  D -->|지난| F[허브(RECAP)로 이동]
  E --> G[타임테이블에서 슬롯 체크(⭐보고 싶은 슬롯)]
  F --> H[리뷰/영상 작성 CTA]
```

---

## 4) 상태 모델(⭐찜 / ✅다녀옴) 노출
### 조작 메인
- **행사 페이지 헤더**: ⭐찜 / ✅다녀옴

### 표시/빠른 액션
- 탐색 카드: ⭐/✅ 배지 표시, ⭐찜 빠른 토글
- MyFes 카드: 상태 배지 + 상황별 퀵액션(허브/리뷰/영상)

---

## 5) 페이지별 구성

### 5.1 홈
- 상단: “오늘 근처” 요약 (MyFes 기준)
- 섹션:
  - 진행중 행사(있으면) → 허브 바로가기
  - 곧 시작/오늘 일정
  - 추천 행사
  - 커뮤니티 하이라이트(내 관심 행사/아티스트 기반)

---

### 5.2 탐색(행사)
#### 공통 헤더
- 검색, 필터(기간/지역/장소/장르), 정렬
- 뷰 토글: 카드 | 리스트 | 캘린더

#### 카드뷰
- 그리드 카드(브라우징)
- 카드 요소: 포스터/날짜/장소/종류, ⭐찜 토글, ✅다녀옴 배지(표시), 진행중 배지

#### 리스트뷰
- 정보 밀도 높은 리스트(빠른 스크롤)
- 카드 요소 동일(축약형)

#### 캘린더뷰
- 캘린더(월/주)
- 날짜 셀: 행사 존재 표시(점/숫자)
- **날짜 클릭 시 대표 카드 1장 우선 노출**
  - 대표 선정: **내 찜/팔로우 기반 우선**
  - 나머지: 스크롤/더보기로 확장
- 모바일 권장: 하단 바텀시트(대표 카드 + 리스트)

#### 지난 행사(최근 1~2년)
- 기본 정렬: 최근 종료 / 리뷰·영상 많은 순 / 평점(표본 고려)
- 필터: 기간(기본 12개월, 최대 24개월), 지역/장소/장르, 아티스트 포함
- 클릭 시: 행사 페이지 진입 → 기본 탭이 **RECAP(허브)**

---

### 5.3 행사 페이지(`/event/{id}`)
#### 상단 헤더(항상)
- 행사명/일자/장소
- ⭐찜 / ✅다녀옴(조작)
- 예매 일정/링크/리마인더(잔여좌석/공식 재고 연동 없음)

#### 탭(권장)
- 개요 | 허브 | 타임테이블 | 아티스트 | (선택, P2) 후기·영상

---

### 5.4 허브 탭 (LIVE/RECAP 모드)
#### A) 상단 4박스 요약(공통)
1) **실시간**: 게이트/MD/시설/안전 요약 + 업데이트 시각 + 신뢰도  
2) **타임테이블**: Now/Next + 진행 바  
3) **공식안내**: Official 공지(핀) + 링크/미리보기  
4) **커뮤니티 요약**: 동행/양도 최신 글 스니펫

#### B) 허브 피드(공통)
- 필터 칩(글 타입):
  - 실시간(게이트/MD/시설/안전)
  - 타임테이블 관련
  - 공식
  - 동행
  - 양도
  - **후기**
  - **영상**
  - 질문·팁
- 하단 고정 CTA: **+ 올리기**
  - 타입 선택 → 템플릿 작성(필수/선택 필드)

- 정렬 컨트롤: `최신` / `도움됨` 드롭다운(상단 우측)
  - 기본값: **LIVE=최신**, **RECAP=도움됨**
- 포스트 카드 `⋯` 메뉴(공통): 공유 / 신고 / 작성자 차단
#### C) LIVE 모드(진행 전/중)
- 기본 노출 우선순위: 실시간/타임테이블
- 후기/영상은 피드 필터로 접근(상단 점령 방지)

#### D) RECAP 모드(종료 후)
- 상단 전환(요약):
  - 행사 총평(평점)
  - 베스트 후기/베스트 영상
  - 아티스트 슬롯 별점 요약(Top 등)
- 피드 기본 정렬: 도움됨/품질 우선(최신은 보조)

#### LIVE → RECAP 전환 규칙 (MVP 확정)
- 기본 모드 자동 전환:
  - 조건: `현재 >= (start_at - 24h)` AND `현재 < (end_at + 6h)` → LIVE, 그 외 → RECAP
  - 기준: 행사 로컬 타임존(기본 Asia/Seoul)
- 예외: 운영자 `override_mode(LIVE/RECAP/AUTO)`로 강제 가능

---

### 5.5 타임테이블 탭
- Now/Next 고정
- 슬롯 리스트: 시간/스테이지/아티스트
- 슬롯 액션:
  - ⭐ “보고 싶은 슬롯” 체크(개인 계획)
  - 아티스트 정보(호응법/셋리)로 이동(드로어/모달 권장)
  - **슬롯 리뷰/슬롯 영상**으로 연결(“이 행사에서의 무대” 귀속)

---

### 5.6 아티스트 탭/페이지
- 라인업 리스트(행사 기준)
- 아티스트 페이지:
  - 프로필/팔로우
  - **호응법**(곡/타이밍)
  - **셋리스트**(회차별)
  - 행사별 슬롯 리뷰 모아보기(역탐색)

---

### 5.7 커뮤니티(탭)
#### 카테고리
- 동행(일반) / 택시팟 / 밥 / 숙소 / 직거래양도 / 후기·팁 / 질문

#### 공통 UX
- 상단 행사 필터(기본값: 내 MyFes 또는 현재 보고 있는 행사)
- 글쓰기: 카테고리별 템플릿(시간/장소/인원/예산/규칙/연락 방식)
- 장소가 있는 글은 카드에서 **[📍 지도 보기]**로 외부 지도앱(또는 웹) 검색을 열 수 있음(딥링크, 지도 SDK 없음).
- 최소 안전장치: 신고/차단, 연락처 마스킹, 위험 경고(결제 기능 없음)

- 기본 정렬: **약속 시간 가까운 순(time_key)** → 최신(동률)
- 보조 정렬: `최신` / `마감 임박(expires_at)`
- 상태 UI: ACTIVE/EXPIRING/EXPIRED/CLOSED 배지 + EXPIRED/CLOSED에서는 참여/연락 CTA 비활성
- 카드 `⋯` 메뉴: 공유 / 신고 / 작성자 차단

#### 장소 입력 & 지도 보기(딥링크) (MVP)
- PostComposer
  - 입력 필드: **장소(선택)** `place_text` (예: “올림픽공원 정문”)
  - (선택) “상세 힌트” `place_hint`(구/동, 게이트, 출구 등)
- PostCard / PostDetail
  - 장소가 있으면 한 줄로 노출: `📍 올림픽공원 정문`
  - 우측에 **[지도 보기]** 버튼(또는 아이콘 버튼)
- 탭 동작
  - 액션시트: `네이버지도 / 카카오맵 / 구글지도 / 웹으로 보기`
  - 기본값 저장(설정에서 변경 가능)
- 엣지 케이스
  - 앱 미설치/스킴 실패: 자동으로 웹 검색(또는 스토어 안내)로 폴백
  - 만료 글은 연락 CTA만 비활성, 지도 보기는 유지(읽기 전용 컨텍스트)

#### 커뮤니티 자동 만료 로직 (MVP)

> 목표: “지금 필요한 모집글”을 위로 유지하고, 오래된 글은 자연스럽게 정리(아카이브)해 안전·가독성을 높인다.

##### 1) 상태
- **ACTIVE**: 노출/댓글 가능
- **EXPIRING**: 만료 임박(라벨 표시, 작성자에게 알림 가능)
- **EXPIRED**: 리스트 기본에서 제외(아카이브로 이동), **신규 댓글/참여 불가**
- **CLOSED(모집완료)**: 작성자 수동 종료(즉시 아카이브 이동)

##### 2) 만료 기준 시각(`expires_at`) 산정
- 원칙: 글 템플릿에 “기준 시각”이 있으면(예: 출발/만남/공연 회차) 그 시각을 중심으로 만료한다.
- 기준 시각이 없으면 “행사 일정(start_at/end_at)”을 기반으로 카테고리별 기본값을 사용한다.

#### 카테고리별 기본값(행사 연결 글)
- **택시팟**: `depart_at + 2시간` *(depart_at 필수 권장)*
- **밥**: `meet_at + 3시간` *(meet_at 필수 권장)*
- **숙소**: `checkin_at + 24시간` *(checkin_at 선택, 없으면 행사 start_at 기준)*
- **동행(일반)**: `meet_at + 6시간` *(meet_at 없으면 start_at + 6시간)*
- **직거래양도**: `min(meet_at, start_at) + 1시간` 또는 작성자 **거래완료(CLOSED)** 시 즉시 종료
- **후기·팁**: 기본 **만료 없음**(RECAP/검색에 잔존) — 커뮤니티 탭에서는 `end_at + 30일` 이후 “아카이브”로만 노출
- **질문**: `created_at + 14일`(행사 종료와 무관) 이후 아카이브

#### 행사 미연결(일반 커뮤니티) 글
- 카테고리별 `created_at` 기준 TTL 적용(질문 14일, 택시/밥 1일 등) 또는 작성자가 기준 시각을 입력하면 그 값을 우선.

##### 3) UX 노출 규칙
- 리스트 기본은 **ACTIVE**만 노출(필터로 “지난 글(아카이브)” 확인 가능).
- **EXPIRING**: 카드에 “곧 만료” 배지 + 상단 고정은 하지 않음(스팸 방지).
- **EXPIRED/CLOSED**: 카드 클릭은 가능(읽기 전용), 댓글 입력창 비활성 + “새 글로 다시 올리기(복제)” CTA 제공.

##### 4) 알림 연계(선택, PRD의 알림 이벤트와 연결)
- 작성자에게 `expires_at - 2시간`에 “곧 만료” 알림(옵트인).
- 만료 시 “자동 종료됨” 인앱 알림(로그성).

##### 5) 구현 메모(간단)
- 서버에서 `expires_at` 저장 + 주기적 만료 처리(크론/큐)로 상태 전환.
- 클라이언트는 `status` 기반으로 필터/읽기 전용 처리(시간 계산을 클라에 의존하지 않음).

---
### 5.8 MyFes (혼합 타임라인)
#### 구조
- 예정+지난을 **한 타임라인**에 섞어 일자별로 표시
- 기본 진입: **오늘 근처** (오늘 앵커 + “오늘로 이동”)

#### 카드 요소
- 상태 배지: ⭐찜 / ✅다녀옴 / 진행중
- 퀵액션:
  - 예정/진행중: 허브, 내 타임테이블
  - 다녀옴: RECAP 보기, 총평/슬롯 리뷰, 영상 추가
- 부가 뱃지: 내가 남긴 것(리뷰/영상/제보) 카운트

#### 보조 기능(선택)
- 월 점프/미니 캘린더 점프
- 필터: 종류/지역/리뷰 미작성만

---

## 6) 글 타입(템플릿) — 허브/커뮤니티 공통 분류
- 실시간: 게이트 / MD / 시설 / 안전
- 공식: Official 공지(링크/텍스트)
- 커뮤니티: 동행/택시/밥/숙소/직거래양도/질문/팁
- 기록: 후기(총평/슬롯) / 영상(링크)

---

## 7) 빈 상태/에러 상태(요점)
- 캘린더 빈 날짜: “행사 없음” + 근처 날짜 추천
- RECAP 데이터 부족: “첫 리뷰/영상 남기기” CTA
- 네트워크 불안정: 제보/작성 임시저장 및 재시도 안내

### 7.1 UI 관점 엣지 케이스(디자인 체크리스트)
- 종료 시각(`end_at`) 누락/미정: 상단에 “종료 시간 미정” 표기 + 모드 자동 전환은 `override_mode` 또는 보수적 기본값(RECAP)로 처리
- 운영자 `override_mode` 적용 시: 행사/허브 탭에 **배지(예: LIVE 고정/RECAP 고정)** 노출 + 이유(짧은 설명) 툴팁/바텀시트
- 행사 로컬 타임존: 캘린더/리마인더/모드 전환 기준이 동일하게 적용되도록(필요 시) 타임존 표기
- 다일(multi-day) 행사: 날짜 스위처/Day 필터가 있으면 “오늘” 기본 선택 + 타임테이블 ‘오늘’ 점프 유지
- RECAP 데이터 부족: “첫 후기/영상 남기기” CTA를 상단/빈상태에 반복 노출(허브 피드/후기·영상 필터뷰 공통)
- 커뮤니티 만료/모집완료: 카드에 상태(EXPIRED/CLOSED) 표기 + 참여/연락 CTA 비활성화 + “새 글로 복제” 등 대체 행동 제공
- 알림 권한 거부/조용한시간: 인앱 알림은 유지, 푸시 ON 유도 토글/가이드 제공(설정 딥링크)
- 신고 누적/운영자 숨김: 카드 블러/숨김 상태(“검토 중/숨김됨”) 표기 + ‘보기’(선택) + ‘신고/차단’ CTA
- 차단된 작성자: 리스트/댓글에서 즉시 숨김 + “차단 해제”는 설정에서만 가능
> 상세 로직/가드레일은 PRD 11장(엣지 케이스) 참조
---

## 8) Dev 메뉴(디버그/테스트) IA (MVP)
- 목적: **목업/시드 데이터** 기반에서 UI/UX 플로우(탐색→LIVE/RECAP, 커뮤니티 만료, 알림)를 빠르게 검증
- 진입(디버그 빌드 전용): `설정 > 앱 정보`에서 **버전 7회 탭**(권장) 또는 흔들기/롱프레스 중 1개로 팀 합의
- 핵심 기능
  1) **시나리오 데이터셋 전환**: Scenario A~F(아래 PRD “목업/시드 시나리오 세트”와 동일)
  2) **시간 시뮬레이터(Time Travel)**: now 설정 / +1h, +6h, +1d 빠른 전진 / 리셋
  3) **행사 상태/모드 토글**: `event.status`(예정/변경/연기/취소), `override_mode`(AUTO/LIVE/RECAP)
  4) **커뮤니티 만료 트리거**: `expires_at` 앞당김/만료 처리(상태 배지/CTA 비활성 확인)
  5) **알림 트리거**: 리마인더/댓글/Official 공지/만료 임박 샘플 생성 + 딥링크 이동 테스트
  6) **세션 토글(테스트용)**: 로그아웃/유저1/유저2 전환(권한·차단·내 글/남 글 UI 확인)
- UI: 토글/버튼 리스트 + 상단에 “현재 시나리오/가상 시간/세션” 고정 표시

---

## 부록 A) 운영자(Admin) IA (Future / Internal)
- 목적: (수집/운영 파이프라인 연결 이후) 자동 수집 데이터 승인/수정, 허브 품질 관리, 신고 처리
- Future 화면(텍스트 IA):
  - Admin 홈
    - 행사 리스트 → 행사 편집(상태/기간/타임존/장소/가격/타임테이블)
    - 소스 수집함(raw) → 변경 제안(change_suggestion) 승인/반려
    - Official 공지 관리(등록/핀/긴급)
    - 모드 override 설정(AUTO/LIVE/RECAP)
    - 신고 큐(글/댓글) → 숨김/복구/사용자 조치
    - 감사로그(Audit log)

---


## 9) 열린 이슈(추가 논의)
- 후기/별점 항목(행사 총평 vs 슬롯 리뷰 평가 차원)
- (고도화) 허브 피드 랭킹 개인화/스포일러 토글/품질 지표 확장