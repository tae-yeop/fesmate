# ì½œê°€ì´ë“œ ì‹œìŠ¤í…œ (Call Guide System)

> ì•„í‹°ìŠ¤íŠ¸ ê³¡ë³„ í˜¸ì‘ë²•(ì½œ&ë¦¬ìŠ¤í°ìŠ¤)ì„ ì»¤ë®¤ë‹ˆí‹°ê°€ í•¨ê»˜ ì‘ì„±/í¸ì§‘í•˜ëŠ” ì‹œìŠ¤í…œ

## ê°œìš”

ì½œê°€ì´ë“œëŠ” ê³µì—°ì—ì„œ ê´€ê°ì´ ì•„í‹°ìŠ¤íŠ¸ì™€ í•¨ê»˜ í˜¸ì‘í•˜ëŠ” ë°©ë²•ì„ ì •ë¦¬í•œ ê°€ì´ë“œì…ë‹ˆë‹¤.
YouTube ì˜ìƒê³¼ ì‹œê°„ ë™ê¸°í™”í•˜ì—¬ ê°€ì‚¬ì™€ í˜¸ì‘ ì§€ì‹œë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ í‘œì‹œí•©ë‹ˆë‹¤.

## í•µì‹¬ ì„¤ê³„ ì›ì¹™: ê¸€ë¡œë²Œ ë°ì´í„° ëª¨ë¸

### ìœ„í‚¤í”¼ë””ì•„ ìŠ¤íƒ€ì¼ í˜‘ì—…

ì½œê°€ì´ë“œëŠ” **í–‰ì‚¬(Event)ì— ì¢…ì†ë˜ì§€ ì•Šê³ , ì•„í‹°ìŠ¤íŠ¸+ê³¡ ë‹¨ìœ„ë¡œ ê¸€ë¡œë²Œí•˜ê²Œ ê´€ë¦¬**ë©ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ì½œê°€ì´ë“œ ë°ì´í„° êµ¬ì¡°                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚   Artist (ì•„í‹°ìŠ¤íŠ¸)                                          â”‚
â”‚   â””â”€â”€ Song (ê³¡) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚       â””â”€â”€ CallGuide (ì½œê°€ì´ë“œ)    â”‚  â† ê¸€ë¡œë²Œ ë‹¨ì¼ ì¸ìŠ¤í„´ìŠ¤    â”‚
â”‚           â”œâ”€â”€ entries[]          â”‚                          â”‚
â”‚           â”œâ”€â”€ version            â”‚                          â”‚
â”‚           â””â”€â”€ contributors[]     â”‚                          â”‚
â”‚                                  â”‚                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚   â”‚                                                         â”‚
â”‚   â”‚  ì—¬ëŸ¬ í–‰ì‚¬ì—ì„œ ë™ì¼í•œ ì½œê°€ì´ë“œ ì°¸ì¡°                        â”‚
â”‚   â”‚                                                         â”‚
â”‚   â”œâ”€â”€ Event A (ë¡í˜ìŠ¤í‹°ë²Œ 2025)                              â”‚
â”‚   â”‚   â””â”€â”€ Slot: ì•„í‹°ìŠ¤íŠ¸ ê³µì—° â†’ CallGuide ë§í¬               â”‚
â”‚   â”‚                                                         â”‚
â”‚   â”œâ”€â”€ Event B (ì¸ë””ìŒì•…ì œ 2025)                              â”‚
â”‚   â”‚   â””â”€â”€ Slot: ì•„í‹°ìŠ¤íŠ¸ ê³µì—° â†’ ë™ì¼í•œ CallGuide ë§í¬        â”‚
â”‚   â”‚                                                         â”‚
â”‚   â””â”€â”€ Event C (ë‹¨ë… ì½˜ì„œíŠ¸)                                  â”‚
â”‚       â””â”€â”€ Slot: ì•„í‹°ìŠ¤íŠ¸ ê³µì—° â†’ ë™ì¼í•œ CallGuide ë§í¬        â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### í•µì‹¬ ì›ì¹™

1. **ì•„í‹°ìŠ¤íŠ¸+ê³¡ = ìœ ë‹ˆí¬ í‚¤**: ë™ì¼ ì•„í‹°ìŠ¤íŠ¸ì˜ ë™ì¼ ê³¡ì€ í•˜ë‚˜ì˜ ì½œê°€ì´ë“œë§Œ ì¡´ì¬
2. **í–‰ì‚¬ ë…ë¦½ì **: ì–´ëŠ í–‰ì‚¬ í—ˆë¸Œì—ì„œ í¸ì§‘í•˜ë“  ë™ì¼í•œ ì½œê°€ì´ë“œ ìˆ˜ì •
3. **ë²„ì „ ê´€ë¦¬**: ìœ„í‚¤í”¼ë””ì•„ì²˜ëŸ¼ ëª¨ë“  ìˆ˜ì • ë‚´ì—­ ë³´ì¡´, ë¡¤ë°± ê°€ëŠ¥
4. **ê¸°ì—¬ì ì¶”ì **: ëˆ„ê°€ ì–´ë–¤ ë¶€ë¶„ì„ ìˆ˜ì •í–ˆëŠ”ì§€ ê¸°ë¡

### í—ˆë¸Œì—ì„œì˜ ì ‘ê·¼ íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  í–‰ì‚¬ í—ˆë¸Œ (ì˜ˆ: ë¡í˜ìŠ¤í‹°ë²Œ 2025)                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  íƒ€ì„í…Œì´ë¸”                                                  â”‚
â”‚  â”œâ”€â”€ 14:00 ì•„í‹°ìŠ¤íŠ¸A â”€â”€â”¬â”€â”€ [ì •ë³´] [í˜¸ì‘ë²•] [ì…‹ë¦¬]            â”‚
â”‚  â”œâ”€â”€ 15:30 ì•„í‹°ìŠ¤íŠ¸B   â”‚                                    â”‚
â”‚  â””â”€â”€ 17:00 ì•„í‹°ìŠ¤íŠ¸C   â”‚                                    â”‚
â”‚                       â”‚                                    â”‚
â”‚                       â–¼                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚  ì•„í‹°ìŠ¤íŠ¸A ì½œê°€ì´ë“œ ëª©ë¡                       â”‚           â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚           â”‚
â”‚  â”‚  â”‚ ğŸµ ëŒ€í‘œê³¡1        [ë³´ê¸°] [í¸ì§‘]      â”‚    â”‚           â”‚
â”‚  â”‚  â”‚ ğŸµ ëŒ€í‘œê³¡2        [ë³´ê¸°] [í¸ì§‘]      â”‚    â”‚           â”‚
â”‚  â”‚  â”‚ ğŸµ ì‹ ê³¡          [+ ì½œê°€ì´ë“œ ë§Œë“¤ê¸°]  â”‚    â”‚           â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚           â”‚
â”‚  â”‚                                             â”‚           â”‚
â”‚  â”‚  ğŸ’¡ ë‹¤ë¥¸ í–‰ì‚¬ì—ì„œ í¸ì§‘í•œ ë‚´ìš©ë„ ì—¬ê¸° ë°˜ì˜ë¨    â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â–¶ YouTube Player                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                         â”‚   â”‚
â”‚  â”‚          [ì˜ìƒ ì¬ìƒ ì˜ì—­]                 â”‚   â”‚
â”‚  â”‚                                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 1:23 / 3:45     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ 1:20  ğŸ¤ [ê°€ì‚¬] ë„ˆë¥¼ ë§Œë‚œ ì´ ê±°ë¦¬ì—ì„œ      â”‚   â”‚
â”‚  â”‚ 1:23  ğŸ“£ [ë–¼ì°½] í•¨ê»˜ ë¶ˆëŸ¬ìš”!              â”‚ â† í˜„ì¬ â”‚
â”‚  â”‚ 1:28  ğŸ‘‹ [ë™ì‘] ì† í”ë“¤ê¸°                 â”‚   â”‚
â”‚  â”‚ 1:35  ğŸ¤ [ê°€ì‚¬] ì˜ì›íˆ ê¸°ì–µí• ê²Œ           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ì½œ íƒ€ì… (Call Types)

| íƒ€ì… | ì•„ì´ì½˜ | ìƒ‰ìƒ | ì„¤ëª… | ì˜ˆì‹œ |
|------|--------|------|------|------|
| `lyrics` | ğŸ¤ | gray | ê°€ì‚¬ í‘œì‹œ | ì¼ë°˜ ê°€ì‚¬ |
| `singalong` | ğŸµ | blue | ë–¼ì°½ êµ¬ê°„ | ì½”ëŸ¬ìŠ¤, í›„ë ´ |
| `call` | ğŸ“£ | orange | ì¶”ì„ìƒˆ/ì½œ | "Hey!", "Yeah!" |
| `response` | ğŸ’¬ | purple | ë¦¬ìŠ¤í°ìŠ¤ | ì•„í‹°ìŠ¤íŠ¸ ì§ˆë¬¸ì— ëŒ€í•œ ì‘ë‹µ |
| `action` | ğŸ‘‹ | green | ë™ì‘ | ì†í”ë“¤ê¸°, ì í”„ |
| `jump` | ğŸ¦˜ | green | ì í”„ | ë–¼ì í”„ êµ¬ê°„ |
| `light` | ğŸ“± | yellow | ì¡°ëª… | í”Œë˜ì‹œ, ì‘ì›ë´‰ |
| `quiet` | ğŸ¤« | muted | ì¡°ìš©íˆ | ë°œë¼ë“œ, ë©˜íŠ¸ êµ¬ê°„ |
| `clap` | ğŸ‘ | pink | ë°•ìˆ˜ | ë¦¬ë“¬ì— ë§ì¶° ë°•ìˆ˜ |
| `wave` | ğŸŒŠ | cyan | íŒŒë„ | íŒŒë„íƒ€ê¸° |

## ë°ì´í„° êµ¬ì¡°

### Artist (ì•„í‹°ìŠ¤íŠ¸) â€” ê¸€ë¡œë²Œ ì—”í‹°í‹°

```typescript
interface Artist {
  id: string;                    // ê³ ìœ  ID (ê¸€ë¡œë²Œ)
  name: string;                  // ì•„í‹°ìŠ¤íŠ¸ëª…
  nameEn?: string;               // ì˜ë¬¸ëª…
  imageUrl?: string;             // í”„ë¡œí•„ ì´ë¯¸ì§€
  genres: string[];              // ì¥ë¥´
  socialLinks?: {                // ì†Œì…œ ë§í¬
    instagram?: string;
    twitter?: string;
    youtube?: string;
    spotify?: string;
  };
  songIds: string[];             // ë³´ìœ  ê³¡ ID ëª©ë¡
}
```

### Song (ê³¡ ì •ë³´) â€” ê¸€ë¡œë²Œ ì—”í‹°í‹°

```typescript
interface Song {
  id: string;                    // ê³ ìœ  ID (ê¸€ë¡œë²Œ)
  title: string;                 // ê³¡ ì œëª©
  artistId: string;              // ì•„í‹°ìŠ¤íŠ¸ ID (FK)
  artistName: string;            // ì•„í‹°ìŠ¤íŠ¸ ì´ë¦„ (denormalized)
  youtubeId: string;             // YouTube ì˜ìƒ ID
  duration: number;              // ì¬ìƒ ì‹œê°„ (ì´ˆ)
  thumbnailUrl?: string;         // ì¸ë„¤ì¼ URL
  releaseYear?: number;          // ë°œë§¤ ì—°ë„
  album?: string;                // ì•¨ë²”ëª…
  hasCallGuide: boolean;         // ì½œê°€ì´ë“œ ì¡´ì¬ ì—¬ë¶€
}
```

> **ì¤‘ìš”**: Artistì™€ Songì€ í–‰ì‚¬(Event)ì™€ ë…ë¦½ì ì¸ ê¸€ë¡œë²Œ ì—”í‹°í‹°ì…ë‹ˆë‹¤.
> ì—¬ëŸ¬ í–‰ì‚¬ì˜ Slotì—ì„œ ë™ì¼í•œ Artist/Songì„ ì°¸ì¡°í•©ë‹ˆë‹¤.

### CallGuideEntry (ì½œê°€ì´ë“œ í•­ëª©)

```typescript
interface CallGuideEntry {
  id: string;                    // ê³ ìœ  ID
  startTime: number;             // ì‹œì‘ ì‹œê°„ (ì´ˆ, ì†Œìˆ˜ì  í—ˆìš©)
  endTime?: number;              // ì¢…ë£Œ ì‹œê°„ (ì„ íƒ)
  type: CallType;                // ì½œ íƒ€ì…
  text: string;                  // í‘œì‹œí•  í…ìŠ¤íŠ¸ (ê°€ì‚¬/ì§€ì‹œ)
  textRomanized?: string;        // ë¡œë§ˆì í‘œê¸°
  textOriginal?: string;         // ì›ë¬¸ (ì¼ë³¸ì–´/ì˜ì–´ ë“±)
  instruction?: string;          // ì¶”ê°€ ì„¤ëª…
  intensity?: 1 | 2 | 3;         // ê°•ë„ (1: ì•½, 2: ë³´í†µ, 3: ê°•)
}
```

### CallGuide (ì½œê°€ì´ë“œ ì „ì²´)

```typescript
interface CallGuide {
  id: string;                    // ê³ ìœ  ID
  songId: string;                // ê³¡ ID
  entries: CallGuideEntry[];     // í•­ëª© ëª©ë¡
  createdBy: string;             // ìµœì´ˆ ì‘ì„±ì ID
  createdAt: Date;               // ìƒì„± ì‹œê°
  updatedAt: Date;               // ìˆ˜ì • ì‹œê°
  version: number;               // ë²„ì „ ë²ˆí˜¸
  contributors: string[];        // ê¸°ì—¬ì ëª©ë¡
  status: 'draft' | 'published' | 'verified';
  verifiedBy?: string;           // ê²€ì¦ì ID
  helpfulCount: number;          // ë„ì›€ë¨ ìˆ˜
}
```

### CallGuideVersion (ë²„ì „ íˆìŠ¤í† ë¦¬)

```typescript
interface CallGuideVersion {
  id: string;
  callGuideId: string;
  version: number;
  entries: CallGuideEntry[];
  editedBy: string;
  editedAt: Date;
  changeDescription?: string;    // ë³€ê²½ ì„¤ëª…
}
```

## YouTube ì—°ë™

### YouTube IFrame API ì‚¬ìš©

```typescript
// YouTube Player ì´ˆê¸°í™”
const player = new YT.Player('player', {
  height: '360',
  width: '640',
  videoId: song.youtubeId,
  playerVars: {
    autoplay: 0,
    controls: 1,
    rel: 0,
  },
  events: {
    onReady: onPlayerReady,
    onStateChange: onPlayerStateChange,
  }
});

// í˜„ì¬ ì¬ìƒ ì‹œê°„ ì¶”ì  (100ms ê°„ê²©)
const syncInterval = setInterval(() => {
  const currentTime = player.getCurrentTime();
  updateActiveEntry(currentTime);
}, 100);
```

### ì‹œê°„ ë™ê¸°í™” ë¡œì§

```typescript
function updateActiveEntry(currentTime: number) {
  const activeEntry = entries.find(entry =>
    currentTime >= entry.startTime &&
    (!entry.endTime || currentTime < entry.endTime)
  );

  if (activeEntry !== previousActive) {
    highlightEntry(activeEntry);
    scrollToEntry(activeEntry);
  }
}
```

## ì—ë””í„° UX

### íƒ€ì„ìŠ¤íƒ¬í”„ ì…ë ¥ ë°©ì‹

1. **ì‹¤ì‹œê°„ ë§ˆí‚¹**: ì˜ìƒ ì¬ìƒ ì¤‘ í‚¤ë³´ë“œë¡œ ë§ˆí‚¹
   - `Space`: í˜„ì¬ ì‹œê°„ì— ë¹ˆ í•­ëª© ì¶”ê°€
   - `1-9`: ì½œ íƒ€ì… ë‹¨ì¶•í‚¤
   - `Enter`: í…ìŠ¤íŠ¸ ì…ë ¥ ëª¨ë“œ

2. **ìˆ˜ë™ ì…ë ¥**: ì‹œê°„ ì§ì ‘ ì…ë ¥
   - `MM:SS.ms` í˜•ì‹ (ì˜ˆ: `01:23.5`)

3. **ë“œë˜ê·¸ ì¡°ì •**: íƒ€ì„ë¼ì¸ì—ì„œ ë“œë˜ê·¸ë¡œ ë¯¸ì„¸ ì¡°ì •

### í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤

| í‚¤ | ê¸°ëŠ¥ |
|----|------|
| `Space` | ì¬ìƒ/ì¼ì‹œì •ì§€ |
| `â†` / `â†’` | 5ì´ˆ ì´ë™ |
| `Shift + â†/â†’` | 1ì´ˆ ì´ë™ |
| `M` | í˜„ì¬ ì‹œê°„ì— ë§ˆí‚¹ |
| `1` | ê°€ì‚¬ (lyrics) |
| `2` | ë–¼ì°½ (singalong) |
| `3` | ì½œ (call) |
| `4` | ë™ì‘ (action) |
| `5` | ì¡°ëª… (light) |
| `Delete` | í•­ëª© ì‚­ì œ |
| `Ctrl+S` | ì €ì¥ |

## ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

```
src/
â”œâ”€â”€ types/
â”‚   â””â”€â”€ call-guide.ts           # íƒ€ì… ì •ì˜
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ call-guide-context.tsx  # Context (CRUD, ë™ê¸°í™”)
â”œâ”€â”€ components/
â”‚   â””â”€â”€ call-guide/
â”‚       â”œâ”€â”€ index.ts
â”‚       â”œâ”€â”€ CallGuideViewer.tsx      # ë·°ì–´ (ì¬ìƒ + ê°€ì´ë“œ í‘œì‹œ)
â”‚       â”œâ”€â”€ CallGuideEditor.tsx      # ì—ë””í„° (ì‘ì„±/ìˆ˜ì •)
â”‚       â”œâ”€â”€ CallGuideTimeline.tsx    # íƒ€ì„ë¼ì¸ UI
â”‚       â”œâ”€â”€ CallGuideEntry.tsx       # ê°œë³„ í•­ëª©
â”‚       â”œâ”€â”€ CallTypePalette.tsx      # ì½œ íƒ€ì… ì„ íƒ
â”‚       â”œâ”€â”€ YouTubePlayer.tsx        # YouTube í”Œë ˆì´ì–´ ë˜í¼
â”‚       â””â”€â”€ MiniCallGuide.tsx        # ë¯¸ë‹ˆ ë·°ì–´ (ê³µì—° ì¤‘)
â””â”€â”€ app/
    â””â”€â”€ call-guide/
        â”œâ”€â”€ page.tsx                 # ì½œê°€ì´ë“œ ëª©ë¡
        â”œâ”€â”€ [songId]/
        â”‚   â””â”€â”€ page.tsx             # ì½œê°€ì´ë“œ ë·°ì–´
        â””â”€â”€ edit/
            â””â”€â”€ [songId]/
                â””â”€â”€ page.tsx         # ì½œê°€ì´ë“œ ì—ë””í„°
```

## í˜ì´ì§€ ë¼ìš°íŒ…

| ê²½ë¡œ | ì„¤ëª… |
|------|------|
| `/call-guide` | ì½œê°€ì´ë“œ í™ˆ (ì•„í‹°ìŠ¤íŠ¸ë³„/ìµœê·¼/ì¸ê¸°) |
| `/call-guide/artist/[artistId]` | ì•„í‹°ìŠ¤íŠ¸ë³„ ê³¡ ëª©ë¡ + ì½œê°€ì´ë“œ |
| `/call-guide/song/[songId]` | ì½œê°€ì´ë“œ ë·°ì–´ (YouTube + ë™ê¸°í™”) |
| `/call-guide/song/[songId]/edit` | ì½œê°€ì´ë“œ ì—ë””í„° |
| `/call-guide/new` | ìƒˆ ê³¡ ë“±ë¡ + ì½œê°€ì´ë“œ ìƒì„± |

### í—ˆë¸Œì—ì„œì˜ ì ‘ê·¼ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°

í—ˆë¸Œ(í–‰ì‚¬ í˜ì´ì§€)ì—ì„œ ì½œê°€ì´ë“œë¡œ ì´ë™í•  ë•Œ ì»¨í…ìŠ¤íŠ¸ ì „ë‹¬:

```
/call-guide/artist/[artistId]?from=event&eventId=[eventId]&slotId=[slotId]
```

- `from=event`: í—ˆë¸Œì—ì„œ ì˜¨ ê²ƒ í‘œì‹œ (ë’¤ë¡œê°€ê¸° ì‹œ í—ˆë¸Œë¡œ ë³µê·€)
- `eventId`: ì›ë˜ í–‰ì‚¬ ID
- `slotId`: íƒ€ì„í…Œì´ë¸” ìŠ¬ë¡¯ ID (ì„ íƒ)

## ì—°ë™ í¬ì¸íŠ¸

### 1. í—ˆë¸Œ(í–‰ì‚¬ í˜ì´ì§€)ì—ì„œì˜ ì ‘ê·¼

**í•µì‹¬**: í—ˆë¸Œì—ì„œ "ì•„í‹°ìŠ¤íŠ¸ ì½œê°€ì´ë“œ" ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ í•´ë‹¹ ì•„í‹°ìŠ¤íŠ¸ì˜ ê³¡ ëª©ë¡ê³¼ ì½œê°€ì´ë“œì— ì ‘ê·¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  í–‰ì‚¬ í˜ì´ì§€ â†’ íƒ€ì„í…Œì´ë¸” íƒ­                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ 14:00 - 15:00  Main Stage                           â”‚   â”‚
â”‚  â”‚ ğŸ¤ ë°´ë“œA                                            â”‚   â”‚
â”‚  â”‚ [ì•„í‹°ìŠ¤íŠ¸ ì •ë³´] [ì½œê°€ì´ë“œ ğŸ“£] [ì…‹ë¦¬ìŠ¤íŠ¸]              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                          â”‚                                 â”‚
â”‚                          â–¼                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸ¤ ë°´ë“œA ì½œê°€ì´ë“œ                    [+ ê³¡ ì¶”ê°€]    â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  ğŸµ ëŒ€í‘œê³¡1 (3:45)                                  â”‚   â”‚
â”‚  â”‚     â”œâ”€â”€ ê¸°ì—¬ì 5ëª… Â· ë„ì›€ë¨ 23                       â”‚   â”‚
â”‚  â”‚     â””â”€â”€ [â–¶ ë³´ê¸°] [âœï¸ í¸ì§‘]                          â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â”‚  ğŸµ ëŒ€í‘œê³¡2 (4:12)                                  â”‚   â”‚
â”‚  â”‚     â”œâ”€â”€ ê¸°ì—¬ì 3ëª… Â· ë„ì›€ë¨ 15                       â”‚   â”‚
â”‚  â”‚     â””â”€â”€ [â–¶ ë³´ê¸°] [âœï¸ í¸ì§‘]                          â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â”‚  ğŸµ ì‹ ê³¡ (3:30)                                     â”‚   â”‚
â”‚  â”‚     â””â”€â”€ [+ ì½œê°€ì´ë“œ ë§Œë“¤ê¸°] â† ì•„ì§ ì—†ìŒ              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  ğŸ’¡ ì´ ì½œê°€ì´ë“œëŠ” ëª¨ë“  í–‰ì‚¬ì—ì„œ ê³µìœ ë©ë‹ˆë‹¤.                    â”‚
â”‚     ë‹¤ë¥¸ ê³³ì—ì„œ í¸ì§‘í•œ ë‚´ìš©ë„ ì—¬ê¸° ë°˜ì˜ë©ë‹ˆë‹¤.                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ë¼ìš°íŒ… ì˜ˆì‹œ**:
- í—ˆë¸Œì—ì„œ ì½œê°€ì´ë“œ ë²„íŠ¼ í´ë¦­: `/call-guide/artist/[artistId]`
- íŠ¹ì • ê³¡ ë³´ê¸°: `/call-guide/song/[songId]`
- ê³¡ í¸ì§‘: `/call-guide/song/[songId]/edit`

### 2. íƒ€ì„í…Œì´ë¸” ìŠ¬ë¡¯ ì—°ë™

```
íƒ€ì„í…Œì´ë¸” ìŠ¬ë¡¯ â†’ [ì½œê°€ì´ë“œ] ë²„íŠ¼ â†’ ì•„í‹°ìŠ¤íŠ¸ ê³¡ ëª©ë¡ ëª¨ë‹¬/ë“œë¡œì–´ â†’ ê³¡ ì„ íƒ â†’ ì½œê°€ì´ë“œ ë·°ì–´
```

**ìŠ¬ë¡¯ ì¹´ë“œ UI**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 14:00 - 15:00  ë°´ë“œA               â”‚
â”‚ Main Stage                         â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚ [â„¹ï¸ ì •ë³´] [ğŸ“£ ì½œê°€ì´ë“œ] [ğŸ“ ì…‹ë¦¬]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. ì•„í‹°ìŠ¤íŠ¸ í˜ì´ì§€ ì—°ë™

```
ì•„í‹°ìŠ¤íŠ¸ í˜ì´ì§€ â†’ í˜¸ì‘ë²• íƒ­ â†’ ê³¡ ëª©ë¡ (ì¸ê¸°ìˆœ/ìµœê·¼ìˆœ) â†’ ì½œê°€ì´ë“œ ë·°ì–´/ì—ë””í„°
```

### 4. LIVE ëª¨ë“œ ì—°ë™

```
í˜„ì¬ ê³µì—° ì¤‘ì¸ ìŠ¬ë¡¯ â†’ ì˜ˆìƒ ì…‹ë¦¬ìŠ¤íŠ¸ â†’ í˜„ì¬ ê³¡ ì¶”ì • â†’ ë¯¸ë‹ˆ ì½œê°€ì´ë“œ í‘œì‹œ
```

**ë¯¸ë‹ˆ í”Œë ˆì´ì–´ (LIVE ëª¨ë“œ)**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸµ ë°´ë“œA - ëŒ€í‘œê³¡1  NOW PLAYING            â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚ ğŸ“£ [1:23] ë–¼ì°½: "í•¨ê»˜ ë¶ˆëŸ¬ìš”~"              â”‚
â”‚ ğŸ‘‹ [1:28] ì†í”ë“¤ê¸°                          â”‚
â”‚                              [ì „ì²´ ë³´ê¸° â†’]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5. ì•Œë¦¼ ì—°ë™

```
ìŠ¬ë¡¯ ì‹œì‘ 10ë¶„ ì „ â†’ "ë°´ë“œA í˜¸ì‘ë²• í™•ì¸í•˜ê¸°" í‘¸ì‹œ â†’ ì½œê°€ì´ë“œ ëª©ë¡ìœ¼ë¡œ ì´ë™
```

### 6. ì½œê°€ì´ë“œ ìƒì„± íë¦„

**ìƒˆ ê³¡ ë“±ë¡ + ì½œê°€ì´ë“œ ì‘ì„±**:
```
1. í—ˆë¸Œ/ì•„í‹°ìŠ¤íŠ¸ í˜ì´ì§€ì—ì„œ [+ ê³¡ ì¶”ê°€] í´ë¦­
2. YouTube URL ì…ë ¥ â†’ ìë™ ë©”íƒ€ë°ì´í„° ì¶”ì¶œ (ì œëª©, ê¸¸ì´, ì¸ë„¤ì¼)
3. ì•„í‹°ìŠ¤íŠ¸ í™•ì¸/ì„ íƒ
4. ê³¡ ì •ë³´ ì €ì¥ (ê¸€ë¡œë²Œ Song ì—”í‹°í‹° ìƒì„±)
5. ì½œê°€ì´ë“œ ì—ë””í„°ë¡œ ì´ë™
6. íƒ€ì„ìŠ¤íƒ¬í”„ ë§ˆí‚¹ + ê°€ì‚¬/ì½œ íƒ€ì… ì…ë ¥
7. ì €ì¥ â†’ ê¸€ë¡œë²Œ ì½œê°€ì´ë“œë¡œ ë“±ë¡
```

**ê¸°ì¡´ ê³¡ ì½œê°€ì´ë“œ í¸ì§‘**:
```
1. ê³¡ ëª©ë¡ì—ì„œ [í¸ì§‘] í´ë¦­
2. ì—ë””í„° ì—´ë¦¼ (ê¸°ì¡´ ë‚´ìš© ë¡œë“œ)
3. ìˆ˜ì • í›„ ì €ì¥
4. ë²„ì „ íˆìŠ¤í† ë¦¬ì— ê¸°ë¡ (ì´ì „ ë²„ì „ ë³´ì¡´)
```

## ì €ì¥ì†Œ ì „í™˜ (LocalStorage â†’ Supabase)

### Phase 1: LocalStorage

```typescript
const STORAGE_KEY = 'fesmate_call_guides';

function saveCallGuide(callGuide: CallGuide) {
  const existing = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');
  const updated = [...existing.filter(g => g.id !== callGuide.id), callGuide];
  localStorage.setItem(STORAGE_KEY, JSON.stringify(updated));
}
```

### Phase 2: Supabase

```sql
-- ì½œê°€ì´ë“œ í…Œì´ë¸”
CREATE TABLE call_guides (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  song_id UUID REFERENCES songs(id),
  entries JSONB NOT NULL,
  created_by UUID REFERENCES users(id),
  created_at TIMESTAMPTZ DEFAULT now(),
  updated_at TIMESTAMPTZ DEFAULT now(),
  version INTEGER DEFAULT 1,
  status TEXT DEFAULT 'draft',
  helpful_count INTEGER DEFAULT 0
);

-- ë²„ì „ íˆìŠ¤í† ë¦¬
CREATE TABLE call_guide_versions (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  call_guide_id UUID REFERENCES call_guides(id),
  version INTEGER NOT NULL,
  entries JSONB NOT NULL,
  edited_by UUID REFERENCES users(id),
  edited_at TIMESTAMPTZ DEFAULT now(),
  change_description TEXT
);

-- RLS ì •ì±…
ALTER TABLE call_guides ENABLE ROW LEVEL SECURITY;

-- ëˆ„êµ¬ë‚˜ ì¡°íšŒ ê°€ëŠ¥
CREATE POLICY "Public read" ON call_guides FOR SELECT USING (true);

-- ë¡œê·¸ì¸ ì‚¬ìš©ìë§Œ ì‘ì„± ê°€ëŠ¥
CREATE POLICY "Auth insert" ON call_guides FOR INSERT
  WITH CHECK (auth.uid() = created_by);

-- ì‘ì„±ì ë˜ëŠ” ê¸°ì—¬ìë§Œ ìˆ˜ì • ê°€ëŠ¥
CREATE POLICY "Contributors update" ON call_guides FOR UPDATE
  USING (auth.uid() = created_by OR auth.uid() = ANY(contributors));
```

## ì‹ ë¢°ë„ ì‹œìŠ¤í…œ

### ì‹ ë¢°ë„ ë“±ê¸‰

| ë“±ê¸‰ | ì¡°ê±´ | í‘œì‹œ |
|------|------|------|
| ê²€ì¦ë¨ (Verified) | ê´€ë¦¬ì ê²€ì¦ | âœ… ê³µì‹ ê°€ì´ë“œ |
| ì‹ ë¢° (Trusted) | ë„ì›€ë¨ 50+ ë˜ëŠ” ê¸°ì—¬ì 5+ | â­ ì»¤ë®¤ë‹ˆí‹° ì¶”ì²œ |
| ì¼ë°˜ (Normal) | ê¸°ë³¸ ìƒíƒœ | (í‘œì‹œ ì—†ìŒ) |
| ì´ˆì•ˆ (Draft) | ë¯¸ì™„ì„±/ë¹„ê³µê°œ | ğŸ“ ì‘ì„± ì¤‘ |

### ê¸°ì—¬ë„ ì ìˆ˜

- ì½œê°€ì´ë“œ ìµœì´ˆ ì‘ì„±: 20ì 
- ì½œê°€ì´ë“œ ìˆ˜ì • ê¸°ì—¬: 5ì 
- ë„ì›€ë¨ ë°›ìŒ: 2ì  (per 1ê°œ)
- ê²€ì¦ë¨ ìŠ¹ì¸: 30ì 

## í–¥í›„ í™•ì¥

### P2 ê¸°ëŠ¥

1. **ìŒì„± ê°€ì´ë“œ**: TTSë¡œ ì½œ íƒ€ì´ë°ì— ìŒì„± ì•ˆë‚´
2. **ì§„ë™ í”¼ë“œë°±**: ëª¨ë°”ì¼ì—ì„œ ì½œ íƒ€ì´ë°ì— ì§„ë™
3. **AR ì˜¤ë²„ë ˆì´**: ì¹´ë©”ë¼ë¡œ ë¬´ëŒ€ ë³´ë©° ê°€ì´ë“œ í‘œì‹œ
4. **ì…‹ë¦¬ìŠ¤íŠ¸ ì—°ë™**: ì‹¤ì‹œê°„ ì…‹ë¦¬ìŠ¤íŠ¸ì™€ ì½œê°€ì´ë“œ ìë™ ì—°ê²°

### ë°ì´í„° ìˆ˜ì§‘

1. **Setlist.fm API**: ê³¼ê±° ì…‹ë¦¬ìŠ¤íŠ¸ ë°ì´í„°
2. **YouTube ìë§‰**: ìë™ ê°€ì‚¬ ì¶”ì¶œ (ë² ì´ìŠ¤ë¼ì¸)
3. **ì»¤ë®¤ë‹ˆí‹° ì œë³´**: ì‹¤ì‹œê°„ ì…‹ë¦¬ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
