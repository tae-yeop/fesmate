# CLAUDE.md - FesMate í”„ë¡œì íŠ¸ ê°€ì´ë“œ

> **AIë¥¼ ìœ„í•œ ì»¨í…ìŠ¤íŠ¸ ìƒì† ë¬¸ì„œì…ë‹ˆë‹¤.**
> ë””ë ‰í† ë¦¬ë³„ ì„¸ë¶€ ê°€ì´ë“œëŠ” í•´ë‹¹ ê²½ë¡œì˜ CLAUDE.mdë¥¼ ì°¸ì¡°í•˜ì„¸ìš”:
> - [src/lib/CLAUDE.md](src/lib/CLAUDE.md) - Context, Mock ë°ì´í„°, ìœ í‹¸ë¦¬í‹°
> - [src/components/CLAUDE.md](src/components/CLAUDE.md) - React ì»´í¬ë„ŒíŠ¸
> - [src/app/CLAUDE.md](src/app/CLAUDE.md) - Next.js App Router í˜ì´ì§€

---

## í”„ë¡œì íŠ¸ ê°œìš”

**FesMate**ëŠ” ê³µì—°/ì „ì‹œ/í˜ìŠ¤í‹°ë²Œ(**í–‰ì‚¬**) ë‹¨ìœ„ë¡œ ì˜ˆë§¤ ì¼ì •, íƒ€ì„í…Œì´ë¸”, ê³µì‹ ì•ˆë‚´, í˜„ì¥ ì‹¤ì‹œê°„ ì œë³´, ì»¤ë®¤ë‹ˆí‹°, ë¦¬ë·°/ì˜ìƒì„ í•œ ê³³ì— ëª¨ìœ¼ëŠ” "í–‰ì‚¬ í—ˆë¸Œ" ì•±ì…ë‹ˆë‹¤.

### í•µì‹¬ ì»¨ì…‰
- **í–‰ì‚¬(Event)** ì¤‘ì‹¬: ëª¨ë“  ì •ë³´ê°€ í–‰ì‚¬ ë‹¨ìœ„ë¡œ í†µí•©
- **LIVE/RECAP ëª¨ë“œ**: ì§„í–‰ ì¤‘ì—” ì‹¤ì‹œê°„ ì •ë³´, ì¢…ë£Œ í›„ì—” íšŒê³ /ë¦¬ë·° ì¤‘ì‹¬
- **ì¨ë“œíŒŒí‹° ì„œë¹„ìŠ¤**: ì˜ˆë§¤ì²˜ ì‹¤ì‹œê°„ ì—°ë™ ë¶ˆê°€, ì§ì ‘ íŒë§¤/ê²°ì œ ì—†ìŒ

## ê¸°ìˆ  ìŠ¤íƒ

| ì˜ì—­ | ê¸°ìˆ  |
|------|------|
| Framework | Next.js 16 (App Router) |
| Language | TypeScript 5 |
| UI | React 19, Tailwind CSS 4 |
| Icons | Lucide React |
| Backend | Supabase (PostgreSQL + Auth + Storage + Realtime) |
| Utilities | clsx, tailwind-merge |

## ë°ì´í„° ì €ì¥ í˜„í™©

| ë°ì´í„° | í˜„ì¬ ì €ì¥ì†Œ | ë¯¸ë˜ ì €ì¥ì†Œ |
|--------|------------|------------|
| í–‰ì‚¬/ì•„í‹°ìŠ¤íŠ¸/ì¥ì†Œ | `mock-data.ts` | Supabase DB |
| ì¸ì¦ | Supabase Auth | Supabase Auth |
| ì°œ/ë‹¤ë…€ì˜´/ë„ì›€ë¨ | localStorage | Supabase DB |
| í¬ë£¨/íŒ”ë¡œìš°/ì°¨ë‹¨ | localStorage | Supabase DB |
| ê¸€/ëŒ“ê¸€/ì•Œë¦¼ | localStorage | Supabase DB |

**DB ìŠ¤í‚¤ë§ˆ ì„¤ê³„ ì™„ë£Œ**: `supabase/migrations/` í´ë”ì— SQL íŒŒì¼ ìˆìŒ
**ë§ˆì´ê·¸ë ˆì´ì…˜ ê³„íš**: `docs/tech/supabase-migration-plan.md` ì°¸ì¡°

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
src/
â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”œâ”€â”€ layout.tsx          # ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ (Header + MobileNav + Providers)
â”‚   â”œâ”€â”€ page.tsx            # í™ˆí˜ì´ì§€
â”‚   â”œâ”€â”€ event/[id]/         # í–‰ì‚¬ ìƒì„¸ í˜ì´ì§€
â”‚   â”œâ”€â”€ crew/[id]/          # í¬ë£¨ í”„ë¡œí•„ í˜ì´ì§€
â”‚   â”œâ”€â”€ user/[id]/          # ì‚¬ìš©ì í”„ë¡œí•„ í˜ì´ì§€
â”‚   â”œâ”€â”€ community/          # ì»¤ë®¤ë‹ˆí‹° (ê¸€ ëª©ë¡ + í¬ë£¨ ì°¾ê¸°)
â”‚   â”œâ”€â”€ explore/            # í–‰ì‚¬ íƒìƒ‰
â”‚   â”œâ”€â”€ myfes/              # ë‚´ í˜ìŠ¤í‹°ë²Œ
â”‚   â”œâ”€â”€ profile/            # ë‚´ í”„ë¡œí•„
â”‚   â”œâ”€â”€ leaderboard/        # ë¦¬ë”ë³´ë“œ
â”‚   â””â”€â”€ login/              # ë¡œê·¸ì¸
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ layout/             # Header, MobileNav
â”‚   â”œâ”€â”€ events/             # EventCard, EventSection
â”‚   â”œâ”€â”€ posts/              # PostComposer, PostDetailModal
â”‚   â”œâ”€â”€ crew/               # CreateCrewModal
â”‚   â”œâ”€â”€ community/          # JoinModal
â”‚   â”œâ”€â”€ profile/            # ProfileEditModal
â”‚   â”œâ”€â”€ leaderboard/        # LeaderboardPreview
â”‚   â”œâ”€â”€ safety/             # ReportModal, PostActionMenu
â”‚   â””â”€â”€ dev/                # DevPanel, DevStatusBar
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ utils.ts            # cn() ìœ í‹¸ë¦¬í‹°
â”‚   â”œâ”€â”€ mock-data.ts        # ëª©ì—… ë°ì´í„° (MOCK_EVENTS, MOCK_POSTS, MOCK_USERS)
â”‚   â”œâ”€â”€ *-context.tsx       # React Contextë“¤ (crew, follow, join, comment ë“±)
â”‚   â””â”€â”€ supabase/           # Supabase í´ë¼ì´ì–¸íŠ¸ (client.ts, server.ts)
â””â”€â”€ types/
    â”œâ”€â”€ event.ts            # Event, Artist, Venue, Slot
    â”œâ”€â”€ post.ts             # Post
    â”œâ”€â”€ crew.ts             # Crew, CrewMember, CrewAnnouncement
    â”œâ”€â”€ database.ts         # Supabase DB íƒ€ì… (Tables, TablesInsert, TablesUpdate)
    â””â”€â”€ ...                 # notification, report, comment, follow ë“±

e2e/                            # Playwright E2E í…ŒìŠ¤íŠ¸
â”œâ”€â”€ navigation.spec.ts          # ë„¤ë¹„ê²Œì´ì…˜ í…ŒìŠ¤íŠ¸
â”œâ”€â”€ community.spec.ts           # ì»¤ë®¤ë‹ˆí‹° í…ŒìŠ¤íŠ¸
â””â”€â”€ supabase-integration.spec.ts # Supabase ì—°ë™ í…ŒìŠ¤íŠ¸

supabase/
â””â”€â”€ migrations/             # PostgreSQL ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ (6ê°œ)
    â”œâ”€â”€ 00001_core_tables.sql      # venues, artists, events, stages, slots
    â”œâ”€â”€ 00002_user_tables.sql      # users, user_events, follows, blocks
    â”œâ”€â”€ 00003_content_tables.sql   # posts, comments, notifications, reports
    â”œâ”€â”€ 00004_social_tables.sql    # crews, crew_members, participation
    â”œâ”€â”€ 00005_guide_tables.sql     # songs, call_guides, call_guide_entries
    â””â”€â”€ 00006_rls_policies.sql     # Row Level Security ì •ì±…
```

## í•µì‹¬ ê°œë… (PRD v0.5 ê¸°ì¤€)

### ìƒíƒœ ëª¨ë¸
- **â­ ì°œ (Wishlist)**: ê´€ì‹¬/ì˜ˆë§¤ ì˜ˆì •
- **âœ… ë‹¤ë…€ì˜´ (Attended)**: ê´€ëŒ ì™„ë£Œ (ë¦¬ë·°/ì˜ìƒ/ê¸°ë¡ì˜ ê¸°ì¤€)

### í—ˆë¸Œ ëª¨ë“œ
- **LIVE**: `í˜„ì¬ >= (start_at - 24h)` AND `í˜„ì¬ < (end_at + 6h)`
- **RECAP**: `í˜„ì¬ >= (end_at + 6h)`
- ìš´ì˜ì `override_mode`ë¡œ ê°•ì œ ê°€ëŠ¥

### ê¸€ íƒ€ì… (Post Type)
- ì‹¤ì‹œê°„: ê²Œì´íŠ¸/MD/ì‹œì„¤/ì•ˆì „
- ê³µì‹: Official ê³µì§€
- ì»¤ë®¤ë‹ˆí‹°: ë™í–‰/íƒì‹œ/ë°¥/ìˆ™ì†Œ/ì§ê±°ë˜ì–‘ë„/ì§ˆë¬¸/íŒ
- ê¸°ë¡: í›„ê¸°(ì´í‰/ìŠ¬ë¡¯)/ì˜ìƒ(ë§í¬)

### ë©”ì¸ íƒ­ êµ¬ì¡°
1. **í™ˆ**: ì˜¤ëŠ˜ ì¼ì • ìš”ì•½, ì¶”ì²œ í–‰ì‚¬
2. **íƒìƒ‰(í–‰ì‚¬)**: ì¹´ë“œë·°/ë¦¬ìŠ¤íŠ¸ë·°/ìº˜ë¦°ë”ë·°
3. **ì»¤ë®¤ë‹ˆí‹°**: ë™í–‰/íƒì‹œ/ë°¥/ìˆ™ì†Œ/ì–‘ë„/í›„ê¸°Â·íŒ/ì§ˆë¬¸
4. **MyFes**: ì˜ˆì •+ì§€ë‚œ í˜¼í•© íƒ€ì„ë¼ì¸

## êµ¬í˜„ ìƒíƒœ (PRD v0.5 ê¸°ì¤€)

| ì˜ì—­ | ìƒíƒœ | ë¹„ê³  |
|------|------|------|
| ë„¤ë¹„ê²Œì´ì…˜ | âœ… ì™„ë£Œ | 4íƒ­ (í™ˆ/íƒìƒ‰/ì»¤ë®¤ë‹ˆí‹°/MyFes) |
| ìƒíƒœ ëª¨ë¸ | âœ… ì™„ë£Œ | â­ì°œ / âœ…ë‹¤ë…€ì˜´ ë¶„ë¦¬ (WishlistContext) |
| í–‰ì‚¬ ìƒíƒœ | âœ… ì™„ë£Œ | SCHEDULED/CHANGED/POSTPONED/CANCELED |
| í–‰ì‚¬ í˜ì´ì§€ | âœ… ì™„ë£Œ | íƒ­ êµ¬ì¡° + í—ˆë¸Œ 4ë°•ìŠ¤ + LIVE/RECAP |
| ì»¤ë®¤ë‹ˆí‹° | âœ… ì™„ë£Œ | 7ê°œ ì¹´í…Œê³ ë¦¬ + ìë™ ë§Œë£Œ |
| íƒ€ì… ì‹œìŠ¤í…œ | âœ… ì™„ë£Œ | Date íƒ€ì… + timezone |
| Dev ë©”ë‰´ | âœ… ì™„ë£Œ | ì‹œë‚˜ë¦¬ì˜¤/ì‹œê°„/ëª¨ë“œ/ì„¸ì…˜ |
| ë°±ì—”ë“œ | â³ ë¯¸ì°©ìˆ˜ | Mock ë°ì´í„°ë§Œ ì‚¬ìš© ì¤‘ |

## ê°œë°œ í˜„í™©

> ìƒì„¸ TODO ëª©ë¡ì€ [docs/TODO.md](/docs/TODO.md) ì°¸ì¡°

### ì™„ë£Œëœ ì£¼ìš” ê¸°ëŠ¥
- [x] Next.js 16 + TypeScript 5 + Tailwind CSS 4
- [x] 4íƒ­ ë„¤ë¹„ê²Œì´ì…˜ (í™ˆ/íƒìƒ‰/ì»¤ë®¤ë‹ˆí‹°/MyFes)
- [x] íƒ€ì… ì‹œìŠ¤í…œ (event.ts, post.ts, notification.ts, report.ts, crew.ts)
- [x] íƒìƒ‰ 3ë·° (ì¹´ë“œ/ë¦¬ìŠ¤íŠ¸/ìº˜ë¦°ë”) + í•„í„°/ì •ë ¬
- [x] í–‰ì‚¬ ìƒì„¸ íƒ­ êµ¬ì¡° + í—ˆë¸Œ 4ë°•ìŠ¤ + LIVE/RECAP
- [x] ê¸€ ì‘ì„± í…œí”Œë¦¿ (PostComposer)
- [x] ì»¤ë®¤ë‹ˆí‹° 7ê°œ ì¹´í…Œê³ ë¦¬ + ìë™ ë§Œë£Œ
- [x] MyFes í˜¼í•© íƒ€ì„ë¼ì¸
- [x] ì¸ì•± ì•Œë¦¼ + ë”¥ë§í¬ ë¼ìš°íŒ…
- [x] ì‹ ê³ /ì°¨ë‹¨ ëª¨ë‹¬
- [x] Dev ë©”ë‰´ (ì‹œë‚˜ë¦¬ì˜¤ A~F, ì‹œê°„ ì‹œë®¬ë ˆì´í„°, Override ëª¨ë“œ, ì„¸ì…˜ ì‹œë®¬ë ˆì´í„°)
- [x] ì°œ/ë‹¤ë…€ì˜´ (WishlistContext + localStorage)
- [x] ë„ì›€ë¨ ë°˜ì‘ (HelpfulContext + localStorage)
- [x] ì§€ë„ ë”¥ë§í¬ (Google Maps, ì¹´ì¹´ì˜¤ë§µ, ë„¤ì´ë²„ì§€ë„)
- [x] ì˜ˆë§¤ ë§í¬ ì—°ê²° (ticketLinks)
- [x] ê³µìœ  ê¸°ëŠ¥ (Web Share API + í´ë¦½ë³´ë“œ)
- [x] Google OAuth (ì¹´ì¹´ì˜¤ëŠ” ì‚¬ì—…ì ì¸ì¦ í•„ìš”)
- [x] ëŒ“ê¸€ ê¸°ëŠ¥ (CommentContext + localStorage)
- [x] í¬ë£¨ ì‹œìŠ¤í…œ (CrewContext + localStorage)
  - í¬ë£¨ ìƒì„±/ê°€ì…/íƒˆí‡´
  - í¬ë£¨ì¥ ê¶Œí•œ (ë©¤ë²„ ìŠ¹ì¸/ê±°ì ˆ/ê°•í‡´, ê³µì§€ ê´€ë¦¬)
  - í¬ë£¨ í”„ë¡œí•„ í˜ì´ì§€ (`/crew/[id]`)
- [x] íŒ”ë¡œìš° ì‹œìŠ¤í…œ (FollowContext)
- [x] ì‚¬ìš©ì í”„ë¡œí•„ (`/user/[id]`, `/profile`)
- [x] ë¦¬ë”ë³´ë“œ (`/leaderboard`)
- [x] ì°¸ì—¬ ì‹ ì²­ ì‹œìŠ¤í…œ (JoinContext - ë™í–‰/íƒì‹œ/ë°¥/ìˆ™ì†Œ)

### ì§„í–‰ ì¤‘ / ë¯¸ì°©ìˆ˜
- [ ] ë°±ì—”ë“œ ì—°ë™ (í˜„ì¬ Mock ë°ì´í„°ë§Œ)
- [ ] ì‚¬ì§„ ì—…ë¡œë“œ
- [ ] ì•„í‹°ìŠ¤íŠ¸ ìƒì„¸ ëª¨ë‹¬
- [ ] RECAP ëª¨ë“œ ìƒë‹¨ ìš”ì•½
- [ ] í¬ë£¨ ìº˜ë¦°ë” (ë©¤ë²„ ì°œ í–‰ì‚¬ í†µí•© ë·°)
- [ ] í•¨ê»˜ ë³´ê¸° (í¬ë£¨ì› íƒ€ì„í…Œì´ë¸” ì˜¤ë²„ë ˆì´)

## ì£¼ìš” ëª…ë ¹ì–´

```bash
# ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev

# ë¹Œë“œ
npm run build

# í”„ë¡œë•ì…˜ ì‹¤í–‰
npm start

# ë¦°íŠ¸
npm run lint

# E2E í…ŒìŠ¤íŠ¸
npm run test:e2e          # í—¤ë“œë¦¬ìŠ¤ ëª¨ë“œ
npm run test:e2e:ui       # UI ëª¨ë“œ (ë¸Œë¼ìš°ì € í‘œì‹œ)
```

## E2E í…ŒìŠ¤íŠ¸

Playwright ê¸°ë°˜ E2E í…ŒìŠ¤íŠ¸ê°€ `e2e/` í´ë”ì— êµ¬í˜„ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

### í…ŒìŠ¤íŠ¸ íŒŒì¼ êµ¬ì¡°

```
e2e/
â”œâ”€â”€ navigation.spec.ts          # ë„¤ë¹„ê²Œì´ì…˜ ë° í–‰ì‚¬ í˜ì´ì§€ í…ŒìŠ¤íŠ¸
â”œâ”€â”€ community.spec.ts           # ì»¤ë®¤ë‹ˆí‹° í˜ì´ì§€ í…ŒìŠ¤íŠ¸
â””â”€â”€ supabase-integration.spec.ts # Supabase ì—°ë™ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
```

### í…ŒìŠ¤íŠ¸ ì‹¤í–‰

```bash
# í—¤ë“œë¦¬ìŠ¤ ëª¨ë“œ (CIìš©)
npm run test:e2e

# UI ëª¨ë“œ (ë””ë²„ê¹…ìš©, ë¸Œë¼ìš°ì € í‘œì‹œ)
npm run test:e2e:ui

# íŠ¹ì • íŒŒì¼ë§Œ ì‹¤í–‰
npx playwright test e2e/navigation.spec.ts
```

### í…ŒìŠ¤íŠ¸ ë²”ìœ„

| íŒŒì¼ | í…ŒìŠ¤íŠ¸ ë²”ìœ„ |
|------|------------|
| `navigation.spec.ts` | í™ˆí˜ì´ì§€ ë¡œë“œ, 5íƒ­ ë„¤ë¹„ê²Œì´ì…˜, í–‰ì‚¬ íƒ­ ì „í™˜, ì°œ ë²„íŠ¼ |
| `community.spec.ts` | ì¹´í…Œê³ ë¦¬ íƒ­, í•„í„°ë§, ë‚´ ì°¸ì—¬ ëª¨ë‹¬, ê¸€ì“°ê¸° ë²„íŠ¼ |
| `supabase-integration.spec.ts` | localStorage í´ë°±, ë¡œê·¸ì¸ í”Œë¡œìš°, ì°œ/ë‹¤ë…€ì˜´, ë„ì›€ë¨, ë¦¬ë”ë³´ë“œ, í”„ë¡œí•„ |

### Playwright ì„¤ì •

- ì„¤ì • íŒŒì¼: `playwright.config.ts`
- Base URL: `http://localhost:3000`
- í”„ë¡œì íŠ¸: Desktop Chrome, Mobile Chrome (Pixel 5)
- ìŠ¤í¬ë¦°ìƒ·: ì‹¤íŒ¨ ì‹œì—ë§Œ ì €ì¥
- ë¦¬í¬íŠ¸: HTML + List

### í…ŒìŠ¤íŠ¸ ì‘ì„± ê°€ì´ë“œ

```typescript
// ê¶Œì¥ ë¡œì¼€ì´í„° íŒ¨í„´
page.getByRole("button", { name: /ë™í–‰/i })           // ì ‘ê·¼ì„± ì—­í•  ê¸°ë°˜
page.locator('button:has-text("í—ˆë¸Œ")')              // í…ìŠ¤íŠ¸ ê¸°ë°˜
page.locator('[aria-label*="ì°œ"]')                   // aria-label ê¸°ë°˜
page.locator('button:has(svg.lucide-star)')          // ì•„ì´ì½˜ ê¸°ë°˜
page.locator('a[href="/explore"]:visible')           // visible ìš”ì†Œë§Œ (ëª¨ë°”ì¼/ë°ìŠ¤í¬í†± ëŒ€ì‘)

// í˜ì´ì§€ ë¡œë“œ ëŒ€ê¸°
await page.waitForLoadState("networkidle");

// ì¡°ê±´ë¶€ í…ŒìŠ¤íŠ¸ (ìš”ì†Œê°€ ì—†ì„ ìˆ˜ ìˆëŠ” ê²½ìš°)
if (await button.isVisible()) {
    await button.click();
}
```

## ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ ë°©ë²•

ì‘ì—… ì™„ë£Œ í›„ ë°˜ë“œì‹œ í…ŒìŠ¤íŠ¸í•˜ê³ , ì‚¬ìš©ìì—ê²Œ í…ŒìŠ¤íŠ¸ ë°©ë²•ì„ ì•ˆë‚´í•´ì•¼ í•©ë‹ˆë‹¤.

### ê°œë°œ ì„œë²„ ì‹¤í–‰
```bash
npm run dev
# ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:3000 ì ‘ì†
```

### ì£¼ìš” ê¸°ëŠ¥ë³„ í…ŒìŠ¤íŠ¸

#### 1. Dev ë©”ë‰´ (ì‹œë‚˜ë¦¬ì˜¤/ì‹œê°„ ì‹œë®¬ë ˆì´í„°)
- í™”ë©´ ìš°í•˜ë‹¨ ë³´ë¼ìƒ‰ ğŸ› ï¸ ë²„íŠ¼ í´ë¦­
- ì‹œë‚˜ë¦¬ì˜¤ A~F ì „í™˜ â†’ ì´ë²¤íŠ¸ í˜ì´ì§€ë¡œ ì´ë™ ë²„íŠ¼ í´ë¦­
- ì‹œê°„ ì¡°ì • (+1h, +6h, +1d) â†’ LIVE/RECAP ëª¨ë“œ ë³€ê²½ í™•ì¸
- Override ëª¨ë“œ (LIVE/RECAP) ê°•ì œ ì ìš© í™•ì¸

#### 2. ì°œ/ë‹¤ë…€ì˜´ (WishlistContext)
- `/explore` â†’ ì´ë²¤íŠ¸ ì¹´ë“œì˜ â­ ë²„íŠ¼ í´ë¦­ â†’ ì°œ í† ê¸€
- `/event/{id}` â†’ â­ì°œ / âœ…ë‹¤ë…€ì˜´ ë²„íŠ¼ í´ë¦­
- `/myfes` â†’ ì°œ/ë‹¤ë…€ì˜´í•œ í–‰ì‚¬ ëª©ë¡ í™•ì¸
- ìƒˆë¡œê³ ì¹¨ í›„ ìƒíƒœ ìœ ì§€ í™•ì¸ (localStorage)

#### 3. ë„ì›€ë¨ ë²„íŠ¼ (HelpfulContext)
- `/event/{id}` â†’ í—ˆë¸Œ íƒ­ â†’ í”¼ë“œì—ì„œ "ë„ì›€ë¨" ë²„íŠ¼ í´ë¦­
- ì¹´ìš´íŠ¸ ì¦ê°€/ê°ì†Œ + ì•„ì´ì½˜ ì±„ì›€ í™•ì¸
- `/community` â†’ ê¸€ ëª©ë¡ì—ì„œ ë™ì¼í•˜ê²Œ í…ŒìŠ¤íŠ¸
- ìƒˆë¡œê³ ì¹¨ í›„ ìƒíƒœ ìœ ì§€ í™•ì¸

#### 4. ì•Œë¦¼ ë”¥ë§í¬
- `/notifications` â†’ ì•Œë¦¼ í´ë¦­ â†’ í•´ë‹¹ í˜ì´ì§€ë¡œ ì´ë™
- `/event/e2?tab=hub` ì§ì ‘ ì ‘ì† â†’ í—ˆë¸Œ íƒ­ ìë™ ì„ íƒ í™•ì¸

#### 5. ì˜ˆë§¤ ë§í¬
- `/event/55948` (Scenario A) â†’ ê°œìš” íƒ­ â†’ ì˜ˆë§¤ ì„¹ì…˜
- ì˜ˆë§¤ì²˜ ë§í¬ í´ë¦­ â†’ ìƒˆ íƒ­ì—ì„œ ì—´ë¦¬ëŠ”ì§€ í™•ì¸

#### 6. ì§€ë„ ë”¥ë§í¬
- `/community` â†’ ì¥ì†Œê°€ ìˆëŠ” ê¸€ì˜ [ì§€ë„] ë²„íŠ¼ í´ë¦­
- ì§€ë„ì•± ì„ íƒ ì•¡ì…˜ì‹œíŠ¸ í‘œì‹œ í™•ì¸
- ê¸°ë³¸ ì§€ë„ì•± ì„¤ì • í›„ ë°”ë¡œ ì—´ê¸° í™•ì¸

#### 7. ê³µìœ  ê¸°ëŠ¥
- `/event/{id}` â†’ í—¤ë”ì˜ ê³µìœ  ë²„íŠ¼ í´ë¦­
- Web Share API ì§€ì› ì‹œ ê³µìœ  ë‹¤ì´ì–¼ë¡œê·¸
- ë¯¸ì§€ì› ì‹œ URL ë³µì‚¬ + ì²´í¬ ì•„ì´ì½˜ í‘œì‹œ

#### 8. í¬ë£¨ ê¸°ëŠ¥
- `/community` â†’ "í¬ë£¨" ì¹´í…Œê³ ë¦¬ ì„ íƒ â†’ í¬ë£¨ ëª©ë¡ í™•ì¸
- í¬ë£¨ ì¹´ë“œ í´ë¦­ â†’ `/crew/{id}` í¬ë£¨ í”„ë¡œí•„ í˜ì´ì§€
- Dev ë©”ë‰´ì—ì„œ ì‚¬ìš©ì ì „í™˜ (user1 â†’ user2 ë“±)ìœ¼ë¡œ ë©¤ë²„/ë¹„ë©¤ë²„ ìƒíƒœ í…ŒìŠ¤íŠ¸
- í¬ë£¨ì¥ ê³„ì •ìœ¼ë¡œ ì „í™˜ ì‹œ "ê´€ë¦¬" íƒ­ í‘œì‹œ í™•ì¸
  - crew1(ë¡í˜ìŠ¤ íŒ¨ë°€ë¦¬) í¬ë£¨ì¥: user2
  - crew2(ì¸ë””ì”¬ í¬ë£¨) í¬ë£¨ì¥: user3
- ê°€ì… ì‹ ì²­/ìŠ¹ì¸/ê±°ì ˆ/ê°•í‡´/ê³µì§€ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸

#### 9. ì°¸ì—¬ ì‹ ì²­ (ë™í–‰/íƒì‹œ/ë°¥/ìˆ™ì†Œ)
- `/community` â†’ ë™í–‰/íƒì‹œ/ë°¥/ìˆ™ì†Œ ê¸€ì˜ "ì°¸ì—¬í•˜ê¸°" ë²„íŠ¼ í´ë¦­
- ì°¸ì—¬ ì‹ ì²­ ëª¨ë‹¬ì—ì„œ ë©”ì‹œì§€ ì…ë ¥ í›„ ì‹ ì²­
- "ì‹ ì²­ì™„ë£Œ" ìƒíƒœ í‘œì‹œ í™•ì¸
- ìƒˆë¡œê³ ì¹¨ í›„ ìƒíƒœ ìœ ì§€ í™•ì¸ (localStorage)

### ì‹œë‚˜ë¦¬ì˜¤ë³„ í…ŒìŠ¤íŠ¸ URL

| ì‹œë‚˜ë¦¬ì˜¤ | URL | ì„¤ëª… |
|----------|-----|------|
| A | `/event/55948` | ê¸°ë³¸ (ë‹¨ì¼ì¼ì •, ì˜ˆì •) |
| B | `/event/e2` | ë‹¤ì¼ í˜ìŠ¤í‹°ë²Œ (LIVE) |
| C | `/event/24016943` | ì§€ë‚œ í–‰ì‚¬ (RECAP) |
| D | `/event/e4` | ì·¨ì†Œë¨ (CANCELED) |
| E | `/event/e5` | ì—°ê¸°ë¨ (POSTPONED) |
| F | `/event/eF` | í•´ì™¸ (Asia/Tokyo) |

## ì½”ë”© ì»¨ë²¤ì…˜

### íŒŒì¼ êµ¬ì¡°
- ì»´í¬ë„ŒíŠ¸: `src/components/{domain}/{ComponentName}.tsx`
- í˜ì´ì§€: `src/app/{route}/page.tsx`
- íƒ€ì…: `src/types/{domain}.ts`
- ìœ í‹¸ë¦¬í‹°: `src/lib/{name}.ts`

### ìŠ¤íƒ€ì¼ë§
- Tailwind CSS ì‚¬ìš©
- `cn()` ìœ í‹¸ë¦¬í‹°ë¡œ ì¡°ê±´ë¶€ í´ë˜ìŠ¤ ì¡°í•©
- ë””ìì¸ í† í°: `globals.css`ì˜ CSS ë³€ìˆ˜ í™œìš©

### íƒ€ì…
- ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì— Props íƒ€ì… ì •ì˜
- API ì‘ë‹µ/ìš”ì²­ì— ì¸í„°í˜ì´ìŠ¤ ì‚¬ìš©
- `event.ts` ì°¸ê³ í•˜ì—¬ ë„ë©”ì¸ íƒ€ì… í™•ì¥

## ì°¸ê³  ë¬¸ì„œ

- [PRD v0.5](/docs/PRD_fesmate_v0.5.md) - ì œí’ˆ ìš”êµ¬ì‚¬í•­
- [UX/IA v0.5](/docs/UX_IA_fesmate_v0.5.md) - ì •ë³´êµ¬ì¡° ë° í™”ë©´ êµ¬ì„±
- [ê¸°íš ìš”ì•½ v0.5](/docs/fes_app_planning_summary_v0.5.md) - ì „ì²´ ê¸°íš ì •ë¦¬
- [TODO](/docs/TODO.md) - ê°œë°œ íƒœìŠ¤í¬ ëª©ë¡
- [DB ìŠ¤í‚¤ë§ˆ](/docs/tech/database-schema.md) - Supabase DB ì„¤ê³„
- [ë§ˆì´ê·¸ë ˆì´ì…˜ ê³„íš](/docs/tech/supabase-migration-plan.md) - Mock â†’ Supabase ì „í™˜

## MVP ìš°ì„ ìˆœìœ„

| ìš°ì„ ìˆœìœ„ | ê¸°ëŠ¥ |
|----------|------|
| P0 | Dev ë©”ë‰´(ì‹œë‚˜ë¦¬ì˜¤/ì‹œê°„/ìƒíƒœ íŠ¸ë¦¬ê±°), íƒìƒ‰ 3ë·°, í–‰ì‚¬ í˜ì´ì§€ íƒ­, í—ˆë¸Œ 4ë°•ìŠ¤+í”¼ë“œ, LIVE/RECAP ì „í™˜, ê¸€ ì‘ì„± í…œí”Œë¦¿, â­ì°œ/âœ…ë‹¤ë…€ì˜´, MyFes íƒ€ì„ë¼ì¸, ì»¤ë®¤ë‹ˆí‹° ì¹´í…Œê³ ë¦¬+ìë™ë§Œë£Œ, ì¸ì•± ì•Œë¦¼, ì‹ ê³ /ì°¨ë‹¨ |
| P1 | ë„ì›€ë¨ ë°˜ì‘, ì‹ ë¢°ë„ ê³ ë„í™”, ìŠ¬ë¡¯ ì•Œë¦¼, ì˜¤í”„ë¼ì¸ ì„ì‹œì €ì¥, ëŒ€í‘œ ì¹´ë“œ ì„ ì • |
| P2 | Admin ë„êµ¬, í›„ê¸°Â·ì˜ìƒ íƒ­, ì¸ì•± ì˜ìƒ ì—…ë¡œë“œ, ëª¨ë”ë ˆì´ì…˜ ìë™í™” |

## í™˜ê²½ ë³€ìˆ˜

```env
# Supabase
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=

# OAuth (TODO)
KAKAO_CLIENT_ID=
KAKAO_CLIENT_SECRET=
NAVER_CLIENT_ID=
NAVER_CLIENT_SECRET=
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
```

## ì£¼ì˜ì‚¬í•­

1. **MVP ì›ì¹™**: ëª©ì—…/ì‹œë“œ ë°ì´í„° + Dev ë©”ë‰´ë¡œ UI/UX ê²€ì¦ ìš°ì„ 
2. **ê²°ì œ ì—†ìŒ**: í‹°ì¼“/MD ê±°ë˜ ì¤‘ê°œ, ì•ˆì „ê²°ì œ/ì—ìŠ¤í¬ë¡œ ë¯¸ì œê³µ
3. **ì‹¤ì‹œê°„ ì—°ë™ ë¶ˆê°€**: ì˜ˆë§¤ì²˜ ì¢Œì„/ì¬ê³  ë“± ê³µì‹ ë°ì´í„° ì§ì ‘ ì—°ë™ ì—†ìŒ
4. **íƒ€ì„ì¡´**: í–‰ì‚¬ ë¡œì»¬ íƒ€ì„ì¡´(ê¸°ë³¸ Asia/Seoul) ê¸°ì¤€ìœ¼ë¡œ ëª¨ë“œ ì „í™˜

## ì‘ì—… ì™„ë£Œ í›„ ì²´í¬ë¦¬ìŠ¤íŠ¸

1. **ë¹Œë“œ í…ŒìŠ¤íŠ¸**: `npm run build` ì„±ê³µ í™•ì¸
2. **E2E í…ŒìŠ¤íŠ¸**: `npm run test:e2e` ì „ì²´ í†µê³¼ í™•ì¸
3. **í…ŒìŠ¤íŠ¸ ì•ˆë‚´**: ì‚¬ìš©ìì—ê²Œ êµ¬ì²´ì ì¸ í…ŒìŠ¤íŠ¸ ë°©ë²• ì•ˆë‚´
   - ì–´ë–¤ URLë¡œ ì ‘ì†í•´ì•¼ í•˜ëŠ”ì§€
   - ì–´ë–¤ ë²„íŠ¼/ê¸°ëŠ¥ì„ í´ë¦­í•´ì•¼ í•˜ëŠ”ì§€
   - ì˜ˆìƒë˜ëŠ” ê²°ê³¼ê°€ ë¬´ì—‡ì¸ì§€
4. **TODO ì—…ë°ì´íŠ¸**: `docs/TODO.md` ì™„ë£Œ í•­ëª© ì²´í¬
5. **ë¬¸ì„œ ì—…ë°ì´íŠ¸**: í•„ìš” ì‹œ CLAUDE.md í…ŒìŠ¤íŠ¸ ë°©ë²• ì„¹ì…˜ ì¶”ê°€

---

## AI ê°œë°œ ê°€ì´ë“œë¼ì¸

### ì½”ë“œ ì‘ì„± ì‹œ ì£¼ì˜ì‚¬í•­

#### 1. Context ì‘ì—… ì‹œ (í•„ë…: `src/lib/CLAUDE.md`)
- **Provider ìˆœì„œ**: `layout.tsx`ì˜ Provider ì¤‘ì²© ìˆœì„œ ìœ ì§€
- **MOCK_USER_PROFILESëŠ” ë°°ì—´**: ê°ì²´ì²˜ëŸ¼ ì ‘ê·¼í•˜ì§€ ë§ê³  `.find()` ì‚¬ìš©
- **localStorage íŒ¨í„´**: í‚¤ëŠ” `fesmate_{name}` í˜•ì‹

#### 2. ì»´í¬ë„ŒíŠ¸ ì‘ì—… ì‹œ (ì°¸ì¡°: `src/components/CLAUDE.md`)
- **`"use client"` í•„ìˆ˜**: hooks, ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì‚¬ìš© ì‹œ
- **ëª¨ë‹¬ íŒ¨í„´**: `isOpen`, `onClose`, step ìƒíƒœ ê´€ë¦¬
- **ì•„ì´ì½˜**: Lucide Reactë§Œ ì‚¬ìš©, `h-4 w-4` í¬ê¸° ì§€ì •

#### 3. í˜ì´ì§€ ì‘ì—… ì‹œ (ì°¸ì¡°: `src/app/CLAUDE.md`)
- **params/searchParamsëŠ” Promise**: Next.js 15ì—ì„œ `await` í•„ìˆ˜
- **pb-20**: í•˜ë‹¨ MobileNav ê³µê°„ í™•ë³´

### ë‘ ì‹œìŠ¤í…œ êµ¬ë¶„

| ê¸°ëŠ¥ | Context | ìš©ë„ |
|------|---------|------|
| 1:1 ë™í–‰ ì œì•ˆ | `CompanionContext` | ì‚¬ìš©ìâ†’ì‚¬ìš©ì, íŠ¹ì • í–‰ì‚¬ |
| ê¸€ ì°¸ì—¬ ì‹ ì²­ | `ParticipationContext` | ì»¤ë®¤ë‹ˆí‹° ê¸€(ë™í–‰/íƒì‹œ/ë°¥/ìˆ™ì†Œ) |

**í˜¼ë™í•˜ì§€ ë§ˆì„¸ìš”!** Companionì€ 1:1 ì œì•ˆ, Participationì€ ê¸€ ì°¸ì—¬ì…ë‹ˆë‹¤.

### í”í•œ ì‹¤ìˆ˜ ìš”ì•½

1. âŒ `MOCK_USER_PROFILES["user1"]` â†’ âœ… `MOCK_USER_PROFILES.find(u => u.id === "user1")`
2. âŒ Server Componentì—ì„œ Context ì‚¬ìš© â†’ âœ… `"use client"` ì¶”ê°€
3. âŒ `const { id } = params` â†’ âœ… `const { id } = await params`
4. âŒ Provider ìˆœì„œ ë¬´ì‹œ â†’ âœ… `layout.tsx` ìˆœì„œ ìœ ì§€
5. âŒ ëª¨ë‹¬ì—ì„œ `isOpen` ì²´í¬ ì—†ì´ ë Œë”ë§ â†’ âœ… `if (!isOpen) return null`
